{"ast":null,"code":"var _jsxFileName = \"D:\\\\Curso\\\\reactjs-notas\\\\src\\\\pages\\\\notas\\\\index.tsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { MdAdd, MdArrowDownward } from \"react-icons/md\";\nimport Layout from \"../../components/Layout\";\nimport Loading from \"../../components/Loading\";\nimport { ReportPDF } from \"../../helpers/report\";\nimport { AllNotesAPI } from \"../../helpers/notas\";\n\nconst NotaPage = () => {\n  const history = useHistory();\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState(new Array());\n\n  const loadList = () => {\n    setLoading(true);\n    AllNotesAPI().then(res => {\n      setData(res.data);\n      setLoading(false);\n    }).catch(error => {\n      toast.error(error.response ? error.response.data.message : \"Error de Servidor\");\n      setLoading(false);\n    });\n  };\n\n  const report = async () => {\n    try {\n      const notaData = data.map((nota, i) => [i + 1, `${nota.student.name} ${nota.student.lastname}`, `${nota.cycle.schedule.language.name} ${nota.cycle.schedule.language.level}`, `${nota.cycle.name}`, nota.listeningnote, nota.readingnote, nota.speakingnote, nota.middlexexamnote, nota.writingnote, nota.finalexamnote, Math.round((nota.listeningnote + nota.readingnote + nota.speakingnote + nota.middlexexamnote + nota.writingnote + nota.finalexamnote) / 6)]);\n      const headers = [\"#\", \"Alumno\", \"Idioma\", \"Ciclo\", \"Listening\", \"Reading\", \"Speaking\", \"MiddleEx\", \"Writting\", \"FinalEx\", \"Promedio\"];\n      ReportPDF({\n        title: \"Reporte de Notas\",\n        headers,\n        data: notaData,\n        name: \"notas\"\n      });\n    } catch (e) {\n      alert(\"ERROR\");\n    }\n  };\n\n  useEffect(() => {\n    const init = () => loadList();\n\n    init();\n  }, []);\n  return /*#__PURE__*/React.createElement(Layout, {\n    text: \"Nota\",\n    head: \"Administraci\\xF3n de Notas\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Loading, {\n    loading: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-4xl py-4 mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, \"Registro de Notas\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center pb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"bg-blue-500 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center\",\n    onClick: () => history.push(\"/notes/new\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MdAdd, {\n    style: {\n      fontSize: \"1.5em\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  }, \"Registrar Nota\")), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"bg-blue-500 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 mx-4 rounded inline-flex items-center\",\n    onClick: () => report(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MdArrowDownward, {\n    style: {\n      fontSize: \"1.5em\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  }, \"Reporte General\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"overflow-x-auto bg-white rounded-lg shadow overflow-y-auto relative\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table border-collapse table-auto w-full whitespace-no-wrap table-striped  relative\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"bg-gray-100 sticky top-0 border-b border-gray-200 px-6 py-2 text-gray-800 font-bold tracking-wider uppercase text-xs bg-blue-300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, \"Alumno\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"bg-gray-100 sticky top-0 border-b border-gray-200 px-6 py-2 text-gray-800 font-bold tracking-wider uppercase text-xs bg-blue-300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, \"Idioma\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"bg-gray-100 sticky top-0 border-b border-gray-200 px-6 py-2 text-gray-800 font-bold tracking-wider uppercase text-xs bg-blue-300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }, \"Ciclo\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"bg-gray-100 sticky top-0 border-b border-gray-200 px-6 py-2 text-gray-800 font-bold tracking-wider uppercase text-xs bg-blue-300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }, \"Listening\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"bg-gray-100 sticky top-0 border-b border-gray-200 px-6 py-2 text-gray-800 font-bold tracking-wider uppercase text-xs bg-blue-300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  }, \"Reading\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"bg-gray-100 sticky top-0 border-b border-gray-200 px-6 py-2 text-gray-800 font-bold tracking-wider uppercase text-xs bg-blue-300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 17\n    }\n  }, \"Speaking\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"bg-gray-100 sticky top-0 border-b border-gray-200 px-6 py-2 text-gray-800 font-bold tracking-wider uppercase text-xs bg-blue-300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 17\n    }\n  }, \"MiddleExam\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"bg-gray-100 sticky top-0 border-b border-gray-200 px-6 py-2 text-gray-800 font-bold tracking-wider uppercase text-xs bg-blue-300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  }, \"Writting\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"bg-gray-100 sticky top-0 border-b border-gray-200 px-6 py-2 text-gray-800 font-bold tracking-wider uppercase text-xs bg-blue-300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }\n  }, \"FinalExam\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"bg-gray-100 sticky top-0 border-b border-gray-200 px-6 py-2 text-gray-800 font-bold tracking-wider uppercase text-xs bg-blue-300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }\n  }, \"Promedio\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"bg-gray-100 sticky top-0 border-b border-gray-200 px-6 py-2 text-gray-800 font-bold tracking-wider uppercase text-xs bg-blue-300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  }, \"Accion\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 15\n    }\n  }, data.map(nota => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: nota.id,\n      className: \"hover:bg-gray-400\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      className: \"border-dashed border-t border-gray-200 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-gray-700 px-6 py-3 flex justify-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 21\n      }\n    }, `${nota.student.name} ${nota.student.lastname}`)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"border-dashed border-t border-gray-200\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-gray-700 px-6 py-3 flex justify-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 21\n      }\n    }, `${nota.cycle.schedule.language.name} ${nota.cycle.schedule.language.level}`)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"border-dashed border-t border-gray-200\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-gray-700 px-6 py-3 flex justify-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 21\n      }\n    }, `${nota.cycle.name}`)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"border-dashed border-t border-gray-200\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-gray-700 px-6 py-3 flex justify-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 21\n      }\n    }, nota.listeningnote)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"border-dashed border-t border-gray-200\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-gray-700 px-6 py-3 flex justify-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 21\n      }\n    }, nota.readingnote)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"border-dashed border-t border-gray-200\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-gray-700 px-6 py-3 flex justify-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 21\n      }\n    }, nota.speakingnote)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"border-dashed border-t border-gray-200\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-gray-700 px-6 py-3 flex justify-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 21\n      }\n    }, nota.middlexexamnote)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"border-dashed border-t border-gray-200\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-gray-700 px-6 py-3 flex justify-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 21\n      }\n    }, nota.writingnote)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"border-dashed border-t border-gray-200\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-gray-700 px-6 py-3 flex justify-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 21\n      }\n    }, nota.finalexamnote)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"border-dashed border-t border-gray-200\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-gray-700 px-6 py-3 flex justify-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 21\n      }\n    }, Math.round((nota.listeningnote + nota.readingnote + nota.speakingnote + nota.middlexexamnote + nota.writingnote + nota.finalexamnote) / 6))), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"bg-blue-500 hover:bg-blue-100 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center\",\n      onClick: () => history.push(`/notes/${nota.id}`),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 25\n      }\n    }, \"Editar\")));\n  }))))));\n};\n\nexport default NotaPage;","map":{"version":3,"sources":["D:/Curso/reactjs-notas/src/pages/notas/index.tsx"],"names":["React","useEffect","useState","useHistory","toast","MdAdd","MdArrowDownward","Layout","Loading","ReportPDF","AllNotesAPI","NotaPage","history","loading","setLoading","data","setData","Array","loadList","then","res","catch","error","response","message","report","notaData","map","nota","i","student","name","lastname","cycle","schedule","language","level","listeningnote","readingnote","speakingnote","middlexexamnote","writingnote","finalexamnote","Math","round","headers","title","e","alert","init","push","fontSize","id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { MdAdd, MdArrowDownward } from \"react-icons/md\";\r\n\r\nimport Layout from \"../../components/Layout\";\r\nimport Loading from \"../../components/Loading\";\r\nimport { ReportPDF } from \"../../helpers/report\";\r\nimport {AllNotesAPI} from \"../../helpers/notas\";\r\nimport {INotas} from \"../../interfaces/INotas\";\r\n\r\nconst NotaPage = () => {\r\n  const history = useHistory();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [data, setData] = useState(new Array<INotas>());\r\n\r\n  const loadList = () => {\r\n    setLoading(true);\r\n    AllNotesAPI()\r\n      .then((res) => {\r\n        setData(res.data);\r\n        setLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        toast.error(\r\n          error.response ? error.response.data.message : \"Error de Servidor\"\r\n        );\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  const report = async () => {\r\n    try {\r\n      const notaData = data.map((nota: INotas, i:number) => [\r\n        i + 1,\r\n        `${nota.student.name} ${nota.student.lastname}`,\r\n        `${nota.cycle.schedule.language.name} ${nota.cycle.schedule.language.level}`,\r\n        `${nota.cycle.name}`,\r\n        nota.listeningnote,\r\n        nota.readingnote,\r\n        nota.speakingnote,\r\n        nota.middlexexamnote,\r\n        nota.writingnote,\r\n        nota.finalexamnote,\r\n        Math.round((nota.listeningnote+\r\n              nota.readingnote+\r\n              nota.speakingnote+\r\n              nota.middlexexamnote+\r\n              nota.writingnote+\r\n              nota.finalexamnote)/6),\r\n      ]);\r\n      const headers = [\r\n        \"#\",\r\n        \"Alumno\",\r\n        \"Idioma\",\r\n        \"Ciclo\",\r\n        \"Listening\",\r\n        \"Reading\",\r\n        \"Speaking\",\r\n        \"MiddleEx\",\r\n        \"Writting\",\r\n        \"FinalEx\",\r\n        \"Promedio\",\r\n      ];\r\n      ReportPDF({\r\n        title: \"Reporte de Notas\",\r\n        headers,\r\n        data: notaData,\r\n        name: \"notas\",\r\n      });\r\n    } catch (e) {\r\n      alert(\"ERROR\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const init = () => loadList();\r\n    init();\r\n  }, []);\r\n\r\n  return (\r\n      <Layout text=\"Nota\" head=\"Administración de Notas\">\r\n        <Loading loading={loading} />\r\n        <div className=\"container mx-auto\">\r\n\r\n          <h1 className=\"text-4xl py-4 mb-4\">Registro de Notas</h1>\r\n\r\n          <div className=\"text-center pb-4\">\r\n\r\n            <button\r\n                className=\"bg-blue-500 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center\"\r\n                onClick={() => history.push(\"/notes/new\")}\r\n            >\r\n              <MdAdd style={{ fontSize: \"1.5em\" }} />\r\n              <span>Registrar Nota</span>\r\n            </button>\r\n\r\n            <button\r\n                className=\"bg-blue-500 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 mx-4 rounded inline-flex items-center\"\r\n                onClick={() => report()}\r\n            >\r\n              <MdArrowDownward style={{ fontSize: \"1.5em\" }} />\r\n              <span>Reporte General</span>\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"overflow-x-auto bg-white rounded-lg shadow overflow-y-auto relative\">\r\n\r\n            <table className=\"table border-collapse table-auto w-full whitespace-no-wrap table-striped  relative\">\r\n              <thead>\r\n              <tr className=\"text-center\">\r\n                <th className=\"bg-gray-100 sticky top-0 border-b border-gray-200 px-6 py-2 text-gray-800 font-bold tracking-wider uppercase text-xs bg-blue-300\">\r\n                  Alumno\r\n                </th>\r\n                <th className=\"bg-gray-100 sticky top-0 border-b border-gray-200 px-6 py-2 text-gray-800 font-bold tracking-wider uppercase text-xs bg-blue-300\">\r\n                  Idioma\r\n                </th>\r\n                <th className=\"bg-gray-100 sticky top-0 border-b border-gray-200 px-6 py-2 text-gray-800 font-bold tracking-wider uppercase text-xs bg-blue-300\">\r\n                  Ciclo\r\n                </th>\r\n                <th className=\"bg-gray-100 sticky top-0 border-b border-gray-200 px-6 py-2 text-gray-800 font-bold tracking-wider uppercase text-xs bg-blue-300\">\r\n                  Listening\r\n                </th>\r\n                <th className=\"bg-gray-100 sticky top-0 border-b border-gray-200 px-6 py-2 text-gray-800 font-bold tracking-wider uppercase text-xs bg-blue-300\">\r\n                  Reading\r\n                </th>\r\n                <th className=\"bg-gray-100 sticky top-0 border-b border-gray-200 px-6 py-2 text-gray-800 font-bold tracking-wider uppercase text-xs bg-blue-300\">\r\n                  Speaking\r\n                </th>\r\n                <th className=\"bg-gray-100 sticky top-0 border-b border-gray-200 px-6 py-2 text-gray-800 font-bold tracking-wider uppercase text-xs bg-blue-300\">\r\n                  MiddleExam\r\n                </th>\r\n                <th className=\"bg-gray-100 sticky top-0 border-b border-gray-200 px-6 py-2 text-gray-800 font-bold tracking-wider uppercase text-xs bg-blue-300\">\r\n                  Writting\r\n                </th>\r\n                <th className=\"bg-gray-100 sticky top-0 border-b border-gray-200 px-6 py-2 text-gray-800 font-bold tracking-wider uppercase text-xs bg-blue-300\">\r\n                  FinalExam\r\n                </th>\r\n                <th className=\"bg-gray-100 sticky top-0 border-b border-gray-200 px-6 py-2 text-gray-800 font-bold tracking-wider uppercase text-xs bg-blue-300\">\r\n                  Promedio\r\n                </th>\r\n                <th className=\"bg-gray-100 sticky top-0 border-b border-gray-200 px-6 py-2 text-gray-800 font-bold tracking-wider uppercase text-xs bg-blue-300\">\r\n                  Accion\r\n                </th>\r\n              </tr>\r\n              </thead>\r\n\r\n              <tbody >\r\n              {data.map((nota) => {\r\n                return (\r\n                    <tr key={nota.id} className=\"hover:bg-gray-400\">\r\n\r\n                      <td className=\"border-dashed border-t border-gray-200 \">\r\n                    <span className=\"text-gray-700 px-6 py-3 flex justify-center\">\r\n                      {`${nota.student.name} ${nota.student.lastname}`}\r\n                    </span>\r\n                      </td>\r\n\r\n                      <td className=\"border-dashed border-t border-gray-200\">\r\n                    <span className=\"text-gray-700 px-6 py-3 flex justify-center\">\r\n                    {`${nota.cycle.schedule.language.name} ${nota.cycle.schedule.language.level}`}\r\n                    </span>\r\n                      </td>\r\n                      <td className=\"border-dashed border-t border-gray-200\">\r\n                    <span className=\"text-gray-700 px-6 py-3 flex justify-center\">\r\n                    {`${nota.cycle.name}`}\r\n                    </span>\r\n                      </td>\r\n                      <td className=\"border-dashed border-t border-gray-200\">\r\n                    <span className=\"text-gray-700 px-6 py-3 flex justify-center\">\r\n                      {nota.listeningnote}\r\n                    </span>\r\n                      </td>\r\n                      <td className=\"border-dashed border-t border-gray-200\">\r\n                    <span className=\"text-gray-700 px-6 py-3 flex justify-center\">\r\n                      {nota.readingnote}\r\n                    </span>\r\n                      </td>\r\n                      <td className=\"border-dashed border-t border-gray-200\">\r\n                    <span className=\"text-gray-700 px-6 py-3 flex justify-center\">\r\n                      {nota.speakingnote}\r\n                    </span>\r\n                      </td>\r\n                      <td className=\"border-dashed border-t border-gray-200\">\r\n                    <span className=\"text-gray-700 px-6 py-3 flex justify-center\">\r\n                      {nota.middlexexamnote}\r\n                    </span>\r\n                      </td>\r\n\r\n                      <td className=\"border-dashed border-t border-gray-200\">\r\n                    <span className=\"text-gray-700 px-6 py-3 flex justify-center\">\r\n                      {nota.writingnote}\r\n                    </span>\r\n                      </td>\r\n\r\n                      <td className=\"border-dashed border-t border-gray-200\">\r\n                    <span className=\"text-gray-700 px-6 py-3 flex justify-center\">\r\n                      {nota.finalexamnote}\r\n                    </span>\r\n                      </td>\r\n\r\n                      <td className=\"border-dashed border-t border-gray-200\">\r\n                    <span className=\"text-gray-700 px-6 py-3 flex justify-center\">\r\n                      {Math.round((nota.listeningnote+\r\n                          nota.readingnote+\r\n                          nota.speakingnote+\r\n                          nota.middlexexamnote+\r\n                          nota.writingnote+\r\n                          nota.finalexamnote)/6)}\r\n                    </span>\r\n                      </td>\r\n\r\n\r\n                      <button\r\n                          className=\"bg-blue-500 hover:bg-blue-100 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center\"\r\n\r\n                          onClick={() => history.push(`/notes/${nota.id}`)}\r\n                      >\r\n                        <span>Editar</span>\r\n                      </button>\r\n\r\n                    </tr>\r\n                );\r\n              })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </Layout>\r\n  );\r\n};\r\n\r\n\r\n\r\nexport default NotaPage;\r\n"]},"metadata":{},"sourceType":"module"}